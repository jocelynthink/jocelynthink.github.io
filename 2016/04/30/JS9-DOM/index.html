<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>JS9--DOM | make everyday conut--Jocelyn Blag</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="节点层次1. Node类型所有节点类型都继承自Node
节点类型：

元素节点
文本节点
属性节点
节点类型 属性            说明 nodeType    表明节点类型 Node类型中定义了12个数值常量表示节点类型 nodeName    保存元素的标签名 nodeValue    

节点关系NodeList对象，一种类数组对象，用于保存一组有序的节点。基于DOM结构动态执行查询的">
<meta property="og:type" content="article">
<meta property="og:title" content="JS9--DOM">
<meta property="og:url" content="http://yoursite.com/2016/04/30/JS9-DOM/index.html">
<meta property="og:site_name" content="make everyday conut--Jocelyn Blag">
<meta property="og:description" content="节点层次1. Node类型所有节点类型都继承自Node
节点类型：

元素节点
文本节点
属性节点
节点类型 属性            说明 nodeType    表明节点类型 Node类型中定义了12个数值常量表示节点类型 nodeName    保存元素的标签名 nodeValue    

节点关系NodeList对象，一种类数组对象，用于保存一组有序的节点。基于DOM结构动态执行查询的">
<meta property="og:updated_time" content="2016-04-30T13:18:54.458Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JS9--DOM">
<meta name="twitter:description" content="节点层次1. Node类型所有节点类型都继承自Node
节点类型：

元素节点
文本节点
属性节点
节点类型 属性            说明 nodeType    表明节点类型 Node类型中定义了12个数值常量表示节点类型 nodeName    保存元素的标签名 nodeValue    

节点关系NodeList对象，一种类数组对象，用于保存一组有序的节点。基于DOM结构动态执行查询的">
  
    <link rel="alternative" href="/atom.xml" title="make everyday conut--Jocelyn Blag" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">make everyday conut--Jocelyn Blag</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Persistence, Patience, Hard Work.</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-JS9-DOM" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/04/30/JS9-DOM/" class="article-date">
  <time datetime="2016-04-30T13:13:50.000Z" itemprop="datePublished">2016-04-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      JS9--DOM
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="节点层次">节点层次</h1><h2 id="1-_Node类型">1. Node类型</h2><p>所有节点类型都继承自Node</p>
<p>节点类型：</p>
<ol>
<li>元素节点</li>
<li>文本节点</li>
<li>属性节点</li>
<li><h3 id="节点类型">节点类型</h3> 属性            说明<br> nodeType    表明节点类型 Node类型中定义了12个数值常量表示节点类型<br> nodeName    保存元素的标签名<br> nodeValue    </li>
</ol>
<h3 id="节点关系">节点关系</h3><p>NodeList对象，一种类数组对象，用于保存一组有序的节点。<br>基于DOM结构动态执行查询的结果</p>
<pre><code>属性            说明
childNodes    返回NodeList对象 访问的话，可以用方括号[num]和<span class="function"><span class="title">item</span><span class="params">(num)</span></span>
parentNode    指向文档树中的父节点
previousSibling    
nextSibling
firstChild
lastChild        
ownerDocument    指向整个文档的文档节点
方法
<span class="function"><span class="title">hasChildNodes</span><span class="params">()</span></span>    在节点包含一或多个子节点的情况下返回true
</code></pre><h3 id="节点操作">节点操作</h3><ol>
<li><p>插入</p>
<pre><code>方法
<span class="function"><span class="title">appendChild</span><span class="params">()</span></span>    用于向childNodes列表的末尾添加一个节点，返回新增节点
<span class="function"><span class="title">insertBefore</span><span class="params">()</span></span>  参数(要插入的节点，参照节点)
</code></pre><p>任何DOM节点不能同时出现在文档的多个位置上。<br>如果传入的节点已经试文档的一部分，那结果就是该节点从原来的位置转移到新位置。</p>
</li>
<li><p>移除</p>
<pre><code>方法
<span class="function"><span class="title">replaceChild</span><span class="params">()</span></span>
<span class="function"><span class="title">reomveChild</span><span class="params">()</span></span>
</code></pre></li>
</ol>
<p>上述四个方法都是某个节点的子节点，必须取得其父节点。</p>
<ol>
<li><p>其它方法</p>
<pre><code>方法
<span class="function"><span class="title">cloneNode</span><span class="params">()</span></span>    用于创建调用这个方法的节点的一个完全相同的副本
<span class="function"><span class="title">normalize</span><span class="params">()</span></span>    处理文档树中的文本节点 主要处理空文本节点，和连续出现的两个空文本节点。
</code></pre><h2 id="2-_Document类型">2. Document类型</h2></li>
</ol>
<p>document对象是HTMLDocument(继承自Document)的一个实例，表示整个HTML页面。</p>
<p>document对象是window对象的一个属性</p>
<p>document节点特征：</p>
<ol>
<li>nodeType=9</li>
<li>nodeName=”#document”</li>
<li>nodeValue = null</li>
<li>parentNode = null</li>
<li>ownerDocument = null</li>
<li>其子节点可能是一个DocumentType(最多一个)、Element(最多一个)、ProcessingInstruction或Comment。</li>
</ol>
<h3 id="文档的子节点">文档的子节点</h3><pre><code>属性                    说明
documentElement        始终指向HTML页面中的<span class="tag">&lt;<span class="title">html</span>&gt;</span>元素
body                直接指向<span class="tag">&lt;<span class="title">body</span>&gt;</span>元素
doctype                取得对<span class="doctype">&lt;!DOCTYPE&gt;</span>的引用，浏览器支持不一致
注释，不同浏览器的处理也不一致
</code></pre><h3 id="文档信息">文档信息</h3><pre><code>属性            说明
titile        包含着<span class="variable">&lt;title&gt;</span>元素中的文本，显示在浏览器窗口的标题栏或标签页
/<span class="keyword">*</span>网页请求有关<span class="keyword">*</span>/    
URL            包含页面完整的URL            
domain        包含页面的域名
referrer    保存着链接到当前页面的那个URL，没有的话是空字符串
/<span class="keyword">*</span>上述三个职业domain可以设置，如果这回为不包含的域，将出错。如果域名一开始是松散的，就不能将它设置为紧绷的。<span class="keyword">*</span>/
</code></pre><h3 id="查找元素">查找元素</h3><pre><code>方法
<span class="function"><span class="title">getElementById</span><span class="params">()</span></span>
<span class="function"><span class="title">getElementsByTagName</span><span class="params">()</span></span>  返回包含零个或多个元素的NodeList，在HTML文档中会返回HTMLCollection。可以通过方括号[num] 或者 <span class="function"><span class="title">item</span><span class="params">(num)</span></span>访问，还有length属性，<span class="function"><span class="title">namedItem</span><span class="params">()</span></span>方法，听过元素的namedItem特征取得集合中的项。提过了按名称访问[<span class="string">"name"</span>].
<span class="function"><span class="title">getElementsByName</span><span class="params">()</span></span>
</code></pre><h3 id="特殊集合">特殊集合</h3><p>这些集合都是HTMLCollection对象</p>
<pre><code> document<span class="class">.anchors</span>    包含文档中所有带name特性的&lt;a&gt;元素
document<span class="class">.applets</span>    包含文档中的所有de&lt;applet&gt;元素怒，不建议使用
document<span class="class">.forms</span>        包含文档中所有的&lt;form&gt;元素
document<span class="class">.images</span>        包含文档中所有的&lt;img&gt;元素
document<span class="class">.links</span>        包含文档中所有的href特征的&lt;a&gt;元素
</code></pre><h3 id="DOM一致性检测">DOM一致性检测</h3><pre><code>属性
document<span class="class">.implementation</span> DOM1级提供了一个方法<span class="function"><span class="title">hasFeature</span><span class="params">()</span></span>
</code></pre><h3 id="文档写入">文档写入</h3><pre><code><span class="function"><span class="title">write</span><span class="params">()</span></span>
<span class="function"><span class="title">writel</span><span class="params">()</span></span>
<span class="function"><span class="title">open</span><span class="params">()</span></span>
<span class="function"><span class="title">close</span><span class="params">()</span></span>
</code></pre><h2 id="3-_Element类型">3. Element类型</h2><p>用于表现XML或HTML元素，提供对元素标签名、子节点即特征的访问。</p>
<p>Elment节点特征：</p>
<ol>
<li>nodeType = 1</li>
<li>nodeName = “元素标签名”</li>
<li>nodeValue = null</li>
<li>parentNode = Document 或Element</li>
<li>其子节点可能是 Element、Text、Comment、ProcessingInstruction、CDATASection或EntityReference.</li>
</ol>
<h3 id="HTML元素">HTML元素</h3><p>html元素存在的标准特征，可以获得或者设置这些标准特征<br>    属性<br>    id<br>    titile<br>    lang<br>    dir<br>    className</p>
<p>所有的HTML元素都是由HTMLElement或者更具体的子类型来表示的。</p>
<p>page263</p>
<h3 id="取得特征">取得特征</h3><p>操作特征的3个方法</p>
<pre><code>方法
<span class="function"><span class="title">getAtrribute</span><span class="params">()</span></span>
<span class="function"><span class="title">setAtrribute</span><span class="params">()</span></span>  特征名和特征值
<span class="function"><span class="title">removeAtrribute</span><span class="params">()</span></span>
</code></pre><p>注意：</p>
<ol>
<li>特征名不区分大小写。</li>
<li>html5规范：自定义的特征应该加上data-前缀以便验证</li>
</ol>
<p>两类特殊的属性，在用属性访问和通过getAtrribute()访问的值不相同</p>
<ol>
<li>style<ul>
<li>通过getAttribut()访问，返回的是style包含的css文本</li>
<li>通过属性访问，则会返回一个对象 </li>
</ul>
</li>
<li>像onclick这样的事件处理函数，<ul>
<li>通过getAttribute访问，会返回字符串</li>
<li>通过属性访问，会返回javascript函数</li>
</ul>
</li>
</ol>
<h3 id="设置特征">设置特征</h3><p>在DOM元素添加一个自定义的属性，该属性不会自动成为元素的特征，IE除外</p>
<h3 id="attributes属性">attributes属性</h3><p>Element类型是使用attributes属性的唯一一个DOM节点类型</p>
<p>NamedNodeMap 是一个动态几何</p>
<p>元素的每一个特性都是由一个Attr节点表示，每个节点都保存在NamedNodeMap对象中。</p>
<h4 id="NamedNodeMap方法">NamedNodeMap方法</h4><pre><code>方法
<span class="function"><span class="title">getNamedItem</span><span class="params">(name)</span></span>
<span class="function"><span class="title">removeNamedItem</span><span class="params">(name)</span></span>
<span class="function"><span class="title">setNameItem</span><span class="params">(node)</span></span>
<span class="function"><span class="title">item</span><span class="params">(pos)</span></span>
</code></pre><p>遍历元素的特征是，attributes属性很有用</p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">outputAtrributes</span>(<span class="params">element</span>)</span>{
    <span class="keyword">var</span> pairs = <span class="keyword">new</span> <span class="built_in">Array</span>(),
            attrName,
            attrValue,
            i,
            len;
        <span class="keyword">for</span>(i = <span class="number">0</span>,len=element.attributes.length;i &lt; len ;i ++){
            attrName = element.attributes[i].nodeName;
            attrValue = element.attributes[i].nodeValue;
            <span class="keyword">if</span>(element.attributes[i].specified){  <span class="comment">//兼容IE</span>
                pairs.push(attrName +<span class="string">"=\""</span>+ attrValue + <span class="string">"\""</span>);
            }
        }
        <span class="keyword">return</span> pairs.join(<span class="string">" "</span>);
    }
</code></pre><h3 id="创建元素">创建元素</h3><pre><code><span class="function"><span class="title">createElement</span><span class="params">()</span></span> 参数：要创建元素的标签名
</code></pre><h3 id="元素的子节点">元素的子节点</h3><ol>
<li>存在childNodes中，</li>
<li>IE和其它浏览器在处理空白的方式上面不同，要注意这点差别</li>
<li>可以在getElementsByTagName()方法的前面加上元素，表示这个元素的子节点和后代节点</li>
</ol>
<h2 id="4-_Text类型">4. Text类型</h2><p>文本节点由Text类型表示，包含可以照字面解释的纯文本内容。</p>
<p>text节点具有的特征：</p>
<ol>
<li>nodeType = 3</li>
<li>nodeName = “#text”</li>
<li>nodeValue = “节点所包含的文本”</li>
<li>parentNode = Element</li>
<li>不支持(没有)子节点</li>
</ol>
<p>Text属性和方法</p>
<pre><code>属性
nodeValue 访问Text节点中包含的文本
data   访问Text节点中包含的文本
length    保存着节点中字符的数目

方法
<span class="function"><span class="title">appendData</span><span class="params">(text)</span></span>
<span class="function"><span class="title">deleteData</span><span class="params">(offset,count)</span></span>
<span class="function"><span class="title">insertData</span><span class="params">(offset,text)</span></span>
<span class="function"><span class="title">replaceData</span><span class="params">(offset,count,text)</span></span>
<span class="function"><span class="title">splitText</span><span class="params">(offset)</span></span>
<span class="function"><span class="title">substringData</span><span class="params">(offset,count)</span></span>
</code></pre><h3 id="创建文本节点">创建文本节点</h3><pre><code><span class="function"><span class="title">createTextNode</span><span class="params">()</span></span>
</code></pre><h3 id="DOM规范化文本节点">DOM规范化文本节点</h3><p>相邻文本节点合并的方法，由Node类型定义，normalize()</p>
<p>浏览器在解析文档时永远不会创建相邻的文本节点。这种情况之后作为执行DOM操作的结果出现。</p>
<h3 id="分割文本节点">分割文本节点</h3><p>Text类提供了一个相反的的方法：splitText()，将一个文本节点分割成两个文本节点，即按照指定的位置分割nodeValue的值。</p>
<p>分割文本节点是从文本节点中提取数据的一种常用DOM解析技术</p>
<h2 id="5-_Comment类型">5. Comment类型</h2><p>注释在DOM中通过Comment类型来表示。</p>
<p>Comment节点的特征：</p>
<ol>
<li>nodeType = 8</li>
<li>nodeName= “#comment”</li>
<li>nodeValue = “注释内容”</li>
<li>parentNode = Document 或 Element</li>
<li>不支持（没有）子节点</li>
</ol>
<p>Comment类型和Text类型继承相同的基类，用于除了splictText()方法之外的所有方法。</p>
<p>createComment()传递注释文本，创建注释节点</p>
<h2 id="6-_CDATASection类型">6.  CDATASection类型</h2><p>只针对基于XML的文档，表示的是CDATA区域<br>特征：</p>
<ol>
<li>nodeType = 4</li>
<li>nodeName = “#cdata-section”</li>
<li>nodeValue = CDATA区域内容</li>
<li>parentNode = Document或Element</li>
<li>不支持(没有)子节点</li>
</ol>
<p>多数浏览器会把CDATA区域错误地解析为Comment或Element。<br>真正的xml文档，可以通过document.createCDataSection()来创建CDATA区域。</p>
<h2 id="7-_DocumentType类型">7. DocumentType类型</h2><p>仅有Firefox、Safari、Opera支持它。<br>包含着与文档的doctype有关的信息</p>
<p>特征</p>
<ol>
<li>nodeType = 10</li>
<li>nodeName = doctype</li>
<li>nodeValue= null</li>
<li>parentNode= Document</li>
<li>不支持(没有)子节点</li>
</ol>
<p>DOM1级不支持动态创建</p>
<p>DOM1级属性：</p>
<pre><code><span class="built_in">name</span>
<span class="built_in">entities</span>
natations
</code></pre><h2 id="8-_DocumentFragment类型">8.  DocumentFragment类型</h2><p>DocumentFragment类型在文档中没有对应的标记。</p>
<p>是一种轻量级的文档，可以包含和控制节点，但不会像完整的文档那样占用额外资源。<br>文档片段用于不会成为文档树的一部分</p>
<p>特征：</p>
<ol>
<li>nodeType = 11</li>
<li>nodeName = “#document-fragment”</li>
<li>nodeValue = null</li>
<li>parentNode = null</li>
<li>子节点= Element、ProcessingInstruction、Comment、Text、CDATASection、EntityReference</li>
</ol>
<h2 id="9-Attr类型">9.Attr类型</h2><p>元素的特征在DOM中以Attr类型来表示。</p>
<p>特征：</p>
<ol>
<li>nodeType = 2</li>
<li>nodeName = 特征名称</li>
<li>nodeValue = 特征的值</li>
<li>parentNode = null</li>
<li>在HTML中不支持（没哟）子节点</li>
<li>在XML中子节点可以是Text或EntityReference</li>
</ol>
<p>不认为是DOM文档树的一部分</p>
<p>属性：<br>    name<br>    value<br>    specified 用于区别特性是否在代码中指定的，还是默认的</p>
<p>方法：<br>    createAtrribute()传入特征名称并创建新的节点。</p>
<h2 id="动态样式">动态样式</h2><p>动态样式：在页面刚加载时不存在的样式。在页面加载完成之后添加到页面中</p>
<p>将<link>元素添加到<head>而不是</head><body>元素中，才能保证浏览器中行为一致。</body></p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">loadStyles</span>(<span class="params">url</span>)</span>{
    <span class="keyword">var</span> link = <span class="built_in">document</span>.createElement(<span class="string">"link"</span>);
    link.rel = <span class="string">"stylesheet"</span>;
    link.type = <span class="string">"text/css"</span>;
    link.href = url;
    <span class="keyword">var</span> head = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"head"</span>)[<span class="number">0</span>];
    head.appendChild(link);
}
</code></pre><p>注意：加载外部样式文件的过程是异步的，也就加载样式与执行javaScript代码的过程没有固定的次序。</p>
<p>使用<style>来动态的加载样式。</p>
<h3 id="操作表格">操作表格</h3><p><table>元素的属性和方法：<br>caption<br>tBodies<br>tFoot<br>tHead<br>rows<br>createTHead()<br>createTFoot()<br>createCaption()<br>deleteTHead()<br>deleteTFoot()<br>deleteCaption()<br>deleteCaption()<br>insertRow(pos)</p>
<p><tbody>元素的属性和方法<br>rows<br>deleteRow(pos)<br>insertRow(pos)</p>
<p><tr>元素的属性和方法<br>cells<br>deleteCell(pos)<br>insertCell(pos)</p>
<h3 id="使用NodeList">使用NodeList</h3><p>DOM是javascript开销最大的部分，NodeList对象是动态的，所以尽量减少DOM操作。</p>
</style></p>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/04/30/JS9-DOM/" data-id="cinvqw8nx00192khhere7gm9q" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/04/30/JS10-DOM扩展/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          JS10--DOM扩展
        
      </div>
    </a>
  
  
    <a href="/2016/04/30/JS8-客户端能力检测/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">JS8--客户端能力检测</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  
    
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a><span class="archive-list-count">17</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a><span class="archive-list-count">18</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a><span class="archive-list-count">3</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/05/06/JS22-javascript高级程序设计代码/">JS22-javascript高级程序设计代码</a>
          </li>
        
          <li>
            <a href="/2016/05/06/JS21-Ajax与Comet/">JS21-Ajax与Comet</a>
          </li>
        
          <li>
            <a href="/2016/04/30/JS20-JSON/">JS20-JSON</a>
          </li>
        
          <li>
            <a href="/2016/04/30/JS13-表单脚本/">JS13--表单脚本</a>
          </li>
        
          <li>
            <a href="/2016/04/30/JS11-DOM2-DOM3/">JS11--DOM2和DOM3</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 jocelynthink<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>